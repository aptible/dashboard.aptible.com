<header class="resource-header">
  <div class="layout-container">
    <div class="resource-title">
      <i class="resource-icon resource-org"></i>
      <h1>{{model.name}} Contact Settings</h1>
    </div>
  </div>
</header>

<div class="layout-container">
  <div class="row">
    <div class="col-xs-6">

      <form role='form'>
        <div class="panel">
          <div class="panel-heading">
            <h3>Edit Contact Settings</h3>
          </div>

          <div class="panel-section">

            {{server-validation-errors model=model}}

            <div class="form-group">
              <label>Security Officer</label>
              {{ultimate-select
                class="user-select"
                name="security-officer"
                prompt="Select..."
                items=model.users
                itemKey="id"
                itemValue="name"
                update=(action (mut model.securityOfficer))
                selected=model.securityOfficer}}
            </div>

            <div class="form-group">
              <label>Billing Contact</label>
              {{ultimate-select
                class="user-select"
                name="billing-contact"
                prompt="Select..."
                items=model.users
                itemKey="id"
                itemValue="name"
                update=(action (mut billingDetail.billingContact))
                selected=billingDetail.billingContact}}
            </div>

            <div class="form-group">
              <label>Security Alert Notification Email</label>
              {{input value=model.securityAlertEmail class="form-control" name="security-alert-email"}}
            </div>

            <div class="">
              <label>Ops Alert Notification Email</label>
              {{input value=model.opsAlertEmail class="form-control" name="ops-alert-email"}}
            </div>

          </div>

          <div class="panel-section">
            <div class="form-group">
              <label>Organization Name</label>
              {{input value=model.name class="form-control" name="name"}}
            </div>

            <div class="form-group">
              <label>Phone</label>
              {{input value=model.primaryPhone class="form-control" name="primary-phone"}}
            </div>

            <div class="">
              <label>Emergency Phone</label>
              {{input value=model.emergencyPhone class="form-control" name="emergency-phone"}}
            </div>
          </div>

          <div class="panel-section">
            <div class="form-group">
              <label>Address</label>
              {{input value=model.address class="form-control" name="address"}}
            </div>

            <div class="form-group">
              <label>City</label>
              {{input value=model.city class="form-control" name="city"}}
            </div>

            <div class="row">
              <div class="col-xs-6">
                <label>State</label>
                {{input value=model.state class="form-control" name="state"}}
              </div>

              <div class="col-xs-6">
                <label>Zip</label>
                {{input value=model.zip class="form-control" name="zip"}}
              </div>
            </div>

          </div>
        </div>

        <div class="resource-actions">
          <button {{action 'save' model billingDetail}} class='btn btn-primary' type='submit' disabled={{isSaving}}>
            {{#if isSaving}}
              <i class="fa fa-spin fa-spinner"></i> Saving...
            {{else}}
              Save
            {{/if}}
          </button>
        </div>
      </form>

    </div>
  </div>
</div>
